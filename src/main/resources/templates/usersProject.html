<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>User Projects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <link href="/css/sidebar.css" rel="stylesheet">
</head>
<body>

<!-- Navbar -->
<div th:replace="~{fragments/commonNavbar}"></div>

<div class="container-fluid">
  <div class="row">

    <!-- Sidebar -->
    <div th:replace="~{fragments/commonSidebar}"></div>

    <!-- Main Content -->
	<main class="col-lg-10 ms-auto p-4" style="background: #f0f2f5; min-height: 100vh;">
	  <h2 class="mb-4 text-primary fw-bold">My Projects</h2>

	  <div class="row g-4">
	    <div th:each="project : ${projectList}" class="col-12 col-sm-6 col-md-4 col-lg-3">
	      <div class="card h-100 shadow-sm rounded-4">
	        
	        <!-- Card Header -->
	        <div class="card-header text-white fw-bold" 
	             style="background: linear-gradient(90deg, #4f46e5, #06b6d4);">
	          <span th:text="${project.name}">Project Name</span>
	        </div>

	        <!-- Card Body -->
	        <div class="card-body">
				<p class="mb-0">
	            	<strong>Alias:</strong> <span th:text="${project.alias}">Alias</span>
	          	</p>
				<p class="mb-2">
	            <strong>Status:</strong>
	            <span th:text="${project.status}" 
	                  th:classappend="${project.status == 'ACTIVE'} ? ' text-success' : ' text-danger'">
	              ACTIVE
	            </span>
	          </p>	          
	        </div>

	        <!-- Card Footer -->
	        <div class="card-footer bg-white border-top-0 d-flex justify-content-start">
	          <a th:href="@{/projects/{id}/tasks(id=${project.id})}" 
	             class="btn btn-primary fw-semibold rounded-pill">
	            <i class="bi bi-eye"></i> View Details
	          </a>
	        </div>

	      </div>
	    </div>

	    <!-- If no projects -->
	    <div th:if="${#lists.isEmpty(projectList)}" class="col-12">
	      <div class="alert alert-info text-center fw-semibold">
	        You have no projects assigned yet.
	      </div>
	    </div>
	  </div>
	</main>

  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/sidebar.js"></script>
</body>
</html>
